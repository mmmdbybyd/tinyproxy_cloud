#Tinyproxy_cloud
在原版tinyproxy1.11.0上做修改  
修改说明：  
配置文件添加local_header和proxy_header选项，pid文件打开失败不退出程序  
1. local_header(默认值为"local"):  
    设置重定向到本地端口的头域，如果请求头中包含有设置的头域，  
    则将重定向数据包到127.0.0.1，端口为该头域的值  
2. proxy_header(默认值为"meng"):   
    设置获取目标地址的头域，如果请求头中包含有设置的头域，  
    则以该头域的值为目标地址  
3. 假如local_header和proxy_header都不存在则返回400状态码  

安装（两个命令二选一）:
~~~~~~~~~
    curl -O http://pros.cutebi.taobao69.cn:666/tinyproxy/tinyproxy.sh && sh tinyproxy.sh
    wget -O builds.sh http://pros.cutebi.taobao69.cn:666/tinyproxy/tinyproxy.sh && sh tinyproxy.sh
~~~~~~~~~
以下为原文说明  
  
# Tinyproxy

Tinyproxy is a small, efficient HTTP/SSL proxy daemon released under the
GNU General Public License.  Tinyproxy is very useful in a small network
setting, where a larger proxy would either be too resource intensive, or
a security risk.  One of the key features of Tinyproxy is the buffering
connection concept.  In effect, Tinyproxy will buffer a high speed
response from a server, and then relay it to a client at the highest
speed the client will accept.  This feature greatly reduces the problems
with sluggishness on the Internet.  If you are sharing an Internet
connection with a small network, and you only want to allow HTTP
requests to be allowed, then Tinyproxy is a great tool for the network
administrator.

For more info, please visit [the Tinyproxy web site](https://tinyproxy.github.io/).


## Installation

Tinyproxy uses a standard GNU `configure` script based on the automake
system.  If compiling from a git checkout, you need to first run

```
./autogen.sh
```

from the top level directory to generate the `configure` script.
The release tarball contains the pre-created `configure` script,
so when building from a release, you can skip this step.
Then basically all you need to do is


```
./configure
make
make install
```

in the top level directory to compile and install Tinyproxy. There are
additional command line arguments you can supply to `configure`. They
include:

- `--enable-debug`: 
If you would like to turn on full debugging support.

- `--enable-xtinyproxy`: 
Compile in support for the XTinyproxy header, which is sent to any
web server in your domain.

- `--enable-filter`: 
Allows Tinyproxy to filter out certain domains and URLs.

- `--enable-upstream`: 
Enable support for proxying connections through another proxy server.

- `--enable-transparent`: 
Allow Tinyproxy to be used as a transparent proxy daemon.
Unlike other work modes, transparent proxying doesn't require explicit
configuration and works automatically when traffic is redirected to
the proxy using the appropriate firewall rules.

- `--enable-reverse`: 
Enable reverse proxying.

- `--with-stathost=HOST`: 
Set the default name of the stats host.

For more information about the build system, read the INSTALL file
that is generated by `autogen.sh` and comes with the release tar ball.



## Support


If you are having problems with Tinyproxy, please raise an
[issue on github](https://github.com/tinyproxy/tinyproxy/issues).


## Contributing

If you would like to contribute a feature, or a bug fix to the Tinyproxy
source, please clone the
[git repository from github](https://github.com/tinyproxy/tinyproxy.git)
and create a [pull request](https://github.com/tinyproxy/tinyproxy/pulls).


## Community

You can meet developers and users to discuss development,
patches and deployment issues in the `#tinyproxy` IRC channel on
Freenode (`irc.freenode.net`).
